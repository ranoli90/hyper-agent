<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HyperAgent</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app">
    <header id="header">
      <div id="header-left">
        <div id="logo">H</div>
        <h1>HyperAgent</h1>
      </div>
      <button id="btn-settings" title="Settings">&#9881;</button>
    </header>

    <div id="chat-history"></div>

    <div id="status-bar" class="hidden">
      <span id="status-dot"></span>
      <span id="status-text">Idle</span>
    </div>

    <!-- Confirmation modal -->
    <div id="confirm-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-icon">&#9888;</span>
          <h3>Confirm Actions</h3>
        </div>
        <p id="confirm-summary" class="confirm-summary"></p>
        <div id="confirm-actions-list"></div>
        <div class="modal-buttons">
          <button id="btn-cancel" class="btn-secondary">Cancel</button>
          <button id="btn-confirm" class="btn-danger">Confirm &amp; Execute</button>
        </div>
      </div>
    </div>

    <!-- Ask user modal -->
    <div id="ask-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-icon">&#10067;</span>
          <h3>Agent needs your input</h3>
        </div>
        <p id="ask-question" class="ask-question"></p>
        <textarea id="ask-reply" rows="3" placeholder="Type your reply..."></textarea>
        <div class="modal-buttons">
          <button id="btn-ask-cancel" class="btn-secondary">Cancel</button>
          <button id="btn-ask-reply" class="btn-primary">Reply</button>
        </div>
      </div>
    </div>

    <div id="input-area">
      <div id="suggestions-container" class="suggestions-container hidden"></div>
      <textarea id="command-input" placeholder="Type a command... e.g. 'Summarize this page'" rows="2"></textarea>
      <div id="input-buttons">
        <button id="btn-execute" class="btn-primary">Execute</button>
        <button id="btn-stop" class="btn-danger hidden" title="Stop agent">Stop</button>
      </div>
    </div>
  </div>

  <script type="module" src="./main.ts"></script>
</body>
</html>
